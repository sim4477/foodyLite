{% extends 'base.html' %}
{% load static %}

{% block title %}Login - Food Delivery App{% endblock %}

{% block content %}
<div class="login-container">
    <div class="login-card">
        <div class="login-header">
            <h2>üçï Food Delivery</h2>
            <p>Please login to continue</p>
        </div>

        <div id="loginForm">
            <div class="form-group">
                <label for="mobileNumber" class="form-label">Mobile Number</label>
                <input type="tel" class="form-control" id="mobileNumber" placeholder="Enter mobile number" maxlength="10">
            </div>
            <button type="button" class="btn btn-primary btn-login" onclick="checkUser()">Continue</button>
        </div>

        <div id="roleSelectionForm" style="display: none;">
            <div class="form-group">
                <label for="role" class="form-label">Select Role</label>
                <select class="form-control" id="role">
                    <option value="customer">Customer</option>
                    <option value="delivery_partner">Delivery Partner</option>
                </select>
            </div>
            <button type="button" class="btn btn-primary btn-login" onclick="sendOTP()">Send OTP</button>
            <button type="button" class="btn btn-secondary btn-login mt-2" onclick="goBackToLogin()">Back</button>
        </div>

        <div id="otpForm" style="display: none;">
            <div class="form-group">
                <label for="otpCode" class="form-label">Enter OTP</label>
                <input type="text" class="form-control" id="otpCode" placeholder="Enter 4-digit OTP" maxlength="4">
                <small class="form-text text-muted">OTP sent to <span id="sentToNumber"></span></small>
            </div>
            <button type="button" class="btn btn-success btn-login" onclick="verifyOTP()">Verify & Login</button>
            <button type="button" class="btn btn-secondary btn-login mt-2" onclick="goBack()">Back</button>
        </div>

        <div id="messageDiv" class="mt-3"></div>
    </div>
</div>

<script src="{% static 'js/auth.js' %}"></script>
{% endblock %}